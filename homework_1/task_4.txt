Атрибут defer сообщает браузеру, что он должен продолжать обрабатывать страницу и загружать скрипт в фоновом режиме,
а затем запустить этот скрипт, когда он загрузится.
1)Скрипты с defer никогда не блокируют страницу.
2)Скрипты с defer всегда выполняются, когда дерево DOM готово
Атрибут async означает, что скрипт абсолютно независим:
1)Содержимое страницы отображается сразу же: async его не блокирует.
2)DOMContentLoaded может произойти как до, так и после async, никаких гарантий нет.
3)Асинхронные скрипты не ждут друг друга. Меньший скрипт small.js идёт вторым, но скорее всего загрузится раньше long.js, поэтому и запустится первым.
То есть, скрипты выполняются в порядке загрузки.
4)Асинхронные скрипты очень полезны для добавления на страницу сторонних скриптов: счётчиков, рекламы и т.д. Они не зависят от наших скриптов, и мы тоже не должны ждать их.
Вывод:
У async и defer есть кое-что общее: они не блокируют отрисовку страницы.
Так что пользователь может просмотреть содержимое страницы и ознакомиться с ней сразу же.
